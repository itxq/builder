function qqMapInit(g,c,e){document.getElementById(g).style.width="100%";document.getElementById(g).style.height="280px";var f=new qq.maps.Map(document.getElementById(g),{zoom:11});var b=new qq.maps.CityService();b.setComplete(function(h){f.setCenter(h.detail.latLng)});b.searchLocalCity();var d=new qq.maps.place.Autocomplete(document.getElementById(c));var a=new qq.maps.SearchService({complete:function(k){if(k.type==="CITY_LIST"){alertNotify("当前检索结果分布较广，请指定城市进行检索","danger");return}var m=k.detail.pois;var o=new qq.maps.LatLngBounds();try{setLocation(f,m[0].latLng,e,m[0].name)}catch(n){alertNotify("检索失败","danger")}for(var j=0,h=m.length;j<h;j++){var p=m[j];o.extend(p.latLng)}f.fitBounds(o)}});qq.maps.event.addListener(d,"confirm",function(h){a.search(h.value)});qq.maps.event.addListener(f,"click",function(h){setLocation(f,h.latLng,e,"")})}function setLocation(d,b,c,e){document.getElementById(c).value=b.getLng()+","+b.getLat();var a=new qq.maps.Marker({map:d,position:b});if(typeof e!=="undefined"&&e!==""&&e!==null){a.setTitle(e)}};